<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>í”„ë¡œì íŠ¸ ë°œí‘œ</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .slide-container { 
            width: 1280px; 
            height: 720px; 
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 60px;
            display: flex;
            flex-direction: column;
        }
        .info-box {
            background: white;
            border-radius: 1rem;
            padding: 20px 30px;
            width: fit-content;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #3b82f6;
        }
        .code-box {
            background: white;
            border-radius: 1rem;
            padding: 30px;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #10b981;
        }
        .code-content {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 20px;
            flex: 1;
            overflow: hidden;
        }
        .code-section {
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            overflow: auto;
            flex: 1;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        .explanation-box {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            overflow: auto;
            flex: 1;
            border: 1px solid #e2e8f0;
        }
        .explanation-item {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        .explanation-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .explanation-title {
            font-size: 15px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 6px;
        }
        .explanation-text {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.5;
        }
        .info-title {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 5px;
        }
        .info-subtitle {
            font-size: 16px;
            font-weight: 500;
            color: #6b7280;
        }
        .code-title {
            font-size: 22px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 20px;
        }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
</head>
<body>
<div class="slide-container">
    <div class="info-box">
        <div class="info-title">ê´€ì‹¬ì‚¬( ê´€ë¦¬</div>
        <div class="info-subtitle">ê´€ì‹¬ì‚¬ ìƒì„± ë¡œì§(Service Layer)</div>
    </div>
    <div class="code-box">
        <div class="code-title">interestCreate ë©”ì„œë“œ</div>
        <div class="code-content">
            <div class="code-section">
                <div class="section-title">ğŸ’» Java Source Code</div>
<pre>

<span style="color: #f472b6">@Transactional</span>
<span style="color: #f472b6">@Override</span>
<span style="color: #c084fc">public</span> <span style="color: #fbbf24">InterestDto</span> <span style="color: #60a5fa">interestCreate</span>(<span style="color: #fbbf24">InterestRegisterRequest</span> request) {
    <span style="color: #6b7280">// 1. ê´€ì‹¬ì‚¬ ì´ë¦„ ìœ ì‚¬ë„ ê²€ì‚¬ (ì¤‘ë³µ ì²´í¬)</span>
    <span style="color: #c084fc">boolean</span> NameDuplication = interestRepository.<span style="color: #60a5fa">findAll</span>().<span style="color: #60a5fa">stream</span>()
            .<span style="color: #60a5fa">anyMatch</span>(interest -> interest.<span style="color: #60a5fa">nameEquals</span>(request.<span style="color: #60a5fa">name</span>()));
    <span style="color: #6b7280">// 2. ìœ ì‚¬ë„ 80% ì´ìƒ ì‹œ ì¤‘ë³µìœ¼ë¡œ ê°„ì£¼ -> ì˜ˆì™¸ ë°œìƒ</span>
    <span style="color: #c084fc">if</span> (NameDuplication) {
        log.<span style="color: #60a5fa">error</span>(<span style="color: #a78bfa">"ê´€ì‹¬ì‚¬ ì¤‘ë³µ ì´ë¦„ ì˜¤ë¥˜: ì¤‘ë³µ ì´ë¦„={}"</span>, request.<span style="color: #60a5fa">name</span>());
        <span style="color: #c084fc">throw new</span> <span style="color: #fbbf24">DuplicateInterestNameException</span>();
    }
    <span style="color: #6b7280">// 3. ê´€ì‹¬ì‚¬ ì—”í‹°í‹° ìƒì„± (Builder íŒ¨í„´)</span>
    <span style="color: #fbbf24">Interest</span> interest = <span style="color: #fbbf24">Interest</span>.<span style="color: #60a5fa">builder</span>()
            .<span style="color: #60a5fa">name</span>(request.<span style="color: #60a5fa">name</span>())
            .<span style="color: #60a5fa">keywords</span>(request.<span style="color: #60a5fa">keywords</span>())
            .<span style="color: #60a5fa">build</span>();
    <span style="color: #6b7280">// 4. ì €ì¥ ë° DTO ë°˜í™˜</span>
    interestRepository.<span style="color: #60a5fa">save</span>(interest);
    <span style="color: #c084fc">return</span> interestMapper.<span style="color: #60a5fa">toDto</span>(interest, <span style="color: #c084fc">null</span>);
}</pre>
</div>
            <div class="code-section">
                <div class="section-title">ğŸ“ ì½”ë“œ ì„¤ëª…</div>
                <div class="explanation-box">
                    <div class="explanation-item">
                        <div class="explanation-title">Streamì„ ì´ìš©í•œ ì¤‘ë³µ ê²€ì‚¬</div>
                        <div class="explanation-text">
                            <code>findAll().stream().anyMatch()</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ëœ ëª¨ë“  ê´€ì‹¬ì‚¬ë¥¼ ìˆœíšŒí•©ë‹ˆë‹¤. ê° ì—”í‹°í‹°ì˜ <code>nameEquals</code> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì…ë ¥ëœ ì´ë¦„ê³¼ ê¸°ì¡´ ì´ë¦„ì˜ ìœ ì‚¬ë„ë¥¼ ë¹„êµí•©ë‹ˆë‹¤.
                        </div>
                    </div>
                    <div class="explanation-item">
                        <div class="explanation-title">ì˜ˆì™¸ ì²˜ë¦¬ (Duplicate Exception)</div>
                        <div class="explanation-text">
                            ìœ ì‚¬ë„ê°€ ì„¤ì •ê°’(ì˜ˆ: 80%) ì´ìƒì¼ ê²½ìš° <code>DuplicateInterestNameException</code>ì„ ë°œìƒì‹œí‚µë‹ˆë‹¤. ì´ëŠ” Global Exception Handlerì— ì˜í•´ 409 Conflict ìƒíƒœ ì½”ë“œë¡œ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µë©ë‹ˆë‹¤.
                        </div>
                    </div>
                    <div class="explanation-item">
                        <div class="explanation-title">Builder íŒ¨í„´ ì ìš©</div>
                        <div class="explanation-text">
                            Entity ê°ì²´ ìƒì„± ì‹œ ìƒì„±ì ëŒ€ì‹  Builder íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. <code>request</code> DTOì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì¶”ì¶œí•˜ì—¬ ì•ˆì „í•˜ê²Œ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                    <div class="explanation-item">
                        <div class="explanation-title">Mapperë¥¼ í†µí•œ DTO ë°˜í™˜</div>
                        <div class="explanation-text">
                            Controller ê³„ì¸µì—ëŠ” Entityë¥¼ ì§ì ‘ ë…¸ì¶œí•˜ì§€ ì•Šê³ , <code>interestMapper</code>ë¥¼ í†µí•´ DTOë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê³„ì¸µ ê°„ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>